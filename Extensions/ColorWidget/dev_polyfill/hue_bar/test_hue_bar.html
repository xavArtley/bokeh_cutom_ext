



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        <link rel="stylesheet" href="huebar.css" type="text/css" />
        <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-1.0.4.min.css" type="text/css" />
        <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.0.4.min.css" type="text/css" />
        
        
          
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.0.4.min.js"></script>
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.0.4.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="bc550f4e-9873-4fee-83af-80247bb84cbb" data-root-id="1003"></div>
            
          
        
      
      
        <script type="application/json" id="1004">
          {"30d583c7-11e5-4352-ac7e-8f6e37ef9c22":{"roots":{"references":[{"attributes":{},"id":"1001","type":"HueBar"},{"attributes":{"children":[{"id":"1001","type":"HueBar"}]},"id":"1002","type":"WidgetBox"},{"attributes":{"children":[{"id":"1002","type":"WidgetBox"}]},"id":"1003","type":"Row"}],"root_ids":["1003"]},"title":"Bokeh Application","version":"1.0.4-5-ge24b62cb5"}}
        </script>
        <script type="text/javascript">
          (function(root, factory) {
          //  if(typeof exports === 'object' && typeof module === 'object')
          //    factory(require("Bokeh"));
          //  else if(typeof define === 'function' && define.amd)
          //    define(["Bokeh"], factory);
          //  else if(typeof exports === 'object')
          //    factory(require("Bokeh"));
          //  else
              factory(root["Bokeh"]);
          })(this, function(Bokeh) {
            var define;
            return (function outer(modules, entry) {
            if (Bokeh != null) {
              return Bokeh.register_plugin(modules, {}, entry);
            } else {
              throw new Error("Cannot find Bokeh. You have to load it prior to loading plugins.");
            }
          })
          ({
            "custom/main": function(require, module, exports) {
              var models = {
                "HueBar": require("custom/hue_bar.hue_bar").HueBar
              };
              require("base").register_models(models);
              module.exports = models;
            },
            "custom/hue_bar.hue_bar": function(require, module, exports) {
          "use strict";
          var __extends = (this && this.__extends) || (function () {
              var extendStatics = function (d, b) {
                  extendStatics = Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                      function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
                  return extendStatics(d, b);
              };
              return function (d, b) {
                  extendStatics(d, b);
                  function __() { this.constructor = d; }
                  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
              };
          })();
          Object.defineProperty(exports, "__esModule", { value: true });
          var dom_1 = require("core/dom");
          var widget_1 = require("models/widgets/widget");
          function hexToRgb(hex) {
              var hex_num = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);
              return { r: hex_num >> 16, g: (hex_num & 0x00FF00) >> 8, b: (hex_num & 0x0000FF) };
          }
          function hexToHsb(hex) {
              return rgbToHsb(hexToRgb(hex));
          }
          function rgbToHsb(rgb) {
              var hsb = { h: 0, s: 0, b: 0 };
              var min = Math.min(rgb.r, rgb.g, rgb.b);
              var max = Math.max(rgb.r, rgb.g, rgb.b);
              var delta = max - min;
              hsb.b = max;
              hsb.s = max != 0 ? 255 * delta / max : 0;
              if (hsb.s != 0) {
                  if (rgb.r == max)
                      hsb.h = (rgb.g - rgb.b) / delta;
                  else if (rgb.g == max)
                      hsb.h = 2 + (rgb.b - rgb.r) / delta;
                  else
                      hsb.h = 4 + (rgb.r - rgb.g) / delta;
              }
              else
                  hsb.h = -1;
              hsb.h *= 60;
              if (hsb.h < 0)
                  hsb.h += 360;
              hsb.s *= 100 / 255;
              hsb.b *= 100 / 255;
              return hsb;
          }
          function hsbToRgb(hsb) {
              var rgb = {
                  r: 0,
                  g: 0,
                  b: 0,
              };
              var h = hsb.h;
              var s = hsb.s * 255 / 100;
              var v = hsb.b * 255 / 100;
              if (s == 0) {
                  rgb.r = rgb.g = rgb.b = v;
              }
              else {
                  var t1 = v;
                  var t2 = (255 - s) * v / 255;
                  var t3 = (t1 - t2) * (h % 60) / 60;
                  if (h == 360)
                      h = 0;
                  if (h < 60) {
                      rgb.r = t1;
                      rgb.b = t2;
                      rgb.g = t2 + t3;
                  }
                  else if (h < 120) {
                      rgb.g = t1;
                      rgb.b = t2;
                      rgb.r = t1 - t3;
                  }
                  else if (h < 180) {
                      rgb.g = t1;
                      rgb.r = t2;
                      rgb.b = t2 + t3;
                  }
                  else if (h < 240) {
                      rgb.b = t1;
                      rgb.r = t2;
                      rgb.g = t1 - t3;
                  }
                  else if (h < 300) {
                      rgb.b = t1;
                      rgb.g = t2;
                      rgb.r = t2 + t3;
                  }
                  else if (h < 360) {
                      rgb.r = t1;
                      rgb.g = t2;
                      rgb.b = t1 - t3;
                  }
                  else {
                      rgb.r = 0;
                      rgb.g = 0;
                      rgb.b = 0;
                  }
              }
              return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };
          }
          function rgbToHex(rgb) {
              var hex = [
                  rgb.r.toString(16),
                  rgb.g.toString(16),
                  rgb.b.toString(16),
              ];
              hex.forEach(function (val, idx) {
                  if (val.length == 1) {
                      hex[idx] = '0' + val;
                  }
              });
              return hex.join('');
          }
          function hsbToHex(hsb) {
              return rgbToHex(hsbToRgb(hsb));
          }
          var HueBarView = /** @class */ (function (_super) {
              __extends(HueBarView, _super);
              function HueBarView() {
                  var _this = _super !== null && _super.apply(this, arguments) || this;
                  _this.current = 0;
                  _this._drag_start = function (ev) {
                      ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                      _this._update_cursor_position(ev.pageY);
                      document.addEventListener("mouseup", _this._drag_stop);
                      document.addEventListener("mousemove", _this._drag_move);
                  };
                  _this._drag_move = function (event) {
                      _this._process_drag_move(event);
                  };
                  _this._drag_stop = function (event) {
                      _this._process_drag_stop(event);
                      document.removeEventListener("mouseup", _this._drag_stop);
                      document.removeEventListener("mousemove", _this._drag_move);
                  };
                  return _this;
              }
              HueBarView.prototype.get_height = function () {
                  return this.bar_bbox.height + this.cursor_bbox.height * 2;
              };
              HueBarView.prototype.get_width = function () {
                  return this.cursor_bbox.width;
              };
              HueBarView.prototype.initialize = function (options) {
                  var _this = this;
                  _super.prototype.initialize.call(this, options);
                  this.hueBar = dom_1.div({
                      class: "bk-wg-hue",
                  });
                  this.hueCursor = dom_1.div({ class: "bk-wg-hue-arrs" });
                  this.hueCursor.appendChild(dom_1.div({ class: "bk-wg-hue-larr" }));
                  this.hueCursor.appendChild(dom_1.div({ class: "bk-wg-hue-rarr" }));
                  this.hueBar.appendChild(this.hueCursor);
                  this.paint_hue_bar();
                  this.bar_bbox = this.hueBar.getBoundingClientRect();
                  this.cursor_bbox = this.hueCursor.getBoundingClientRect();
                  this.hueBar.addEventListener("mousedown", function (ev) { return _this._drag_start(ev); });
              };
              HueBarView.prototype.render = function () {
                  _super.prototype.render.call(this);
                  dom_1.empty(this.el);
                  this.el.appendChild(this.hueBar);
                  this.bar_bbox = this.hueBar.getBoundingClientRect();
                  this.cursor_bbox = this.hueCursor.getBoundingClientRect();
              };
              HueBarView.prototype.paint_hue_bar = function () {
                  var UA = navigator.userAgent.toLowerCase();
                  var isIE = navigator.appName === 'Microsoft Internet Explorer';
                  var IEver = isIE ? parseFloat(UA.match(/msie ([0-9]*[\.0-9]+)/)[1]) : 0;
                  var ngIE = (isIE && IEver < 10);
                  var stops = ['#ff0000', '#ff0080', '#ff00ff', '#8000ff',
                      '#0000ff', '#0080ff', '#00ffff', '#00ff80',
                      '#00ff00', '#80ff00', '#ffff00', '#ff8000', '#ff0000'];
                  if (ngIE) {
                      var i = void 0, div_e = void 0;
                      for (i = 0; i <= 11; i++) {
                          div_e = dom_1.div({
                              style: 'height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='
                                  + stops[i] + ', endColorstr=' + stops[i + 1] + '); -ms-filter: '
                                  + '"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='
                                  + stops[i] + ', endColorstr=' + stops[i + 1] + ')";',
                          });
                          this.hueBar.append(div_e);
                      }
                  }
                  else {
                      var stopList = stops.join(',');
                      this.hueBar.setAttribute('style', 'background:-webkit-linear-gradient(top,'
                          + stopList + '); background: -o-linear-gradient(top,'
                          + stopList + '); background: -ms-linear-gradient(top,'
                          + stopList + '); background:-moz-linear-gradient(top,'
                          + stopList + '); -webkit-linear-gradient(top,'
                          + stopList + '); background:linear-gradient(to bottom,'
                          + stopList + '); ');
                  }
              };
              HueBarView.prototype._update_cursor_position = function (pageY) {
                  var unbound_pos = pageY - this.cursor_bbox.height;
                  var pos = Math.max(Math.min(unbound_pos, this.bar_bbox.height), 0) - this.cursor_bbox.height;
                  this.hueCursor.style.top = Math.round(pos).toString() + 'px';
              };
              HueBarView.prototype._pos_to_hsv = function (pos) {
              };
              HueBarView.prototype._process_drag_move = function (ev) {
                  this._update_cursor_position(ev.pageY);
              };
              HueBarView.prototype._process_drag_stop = function (event) {
                  console.log("drag stop :" + event);
              };
              return HueBarView;
          }(widget_1.WidgetView));
          exports.HueBarView = HueBarView;
          var HueBar = /** @class */ (function (_super) {
              __extends(HueBar, _super);
              function HueBar() {
                  return _super !== null && _super.apply(this, arguments) || this;
              }
              HueBar.initClass = function () {
                  this.prototype.type = "HueBar";
                  this.prototype.default_view = HueBarView;
              };
              return HueBar;
          }(widget_1.Widget));
          exports.HueBar = HueBar;
          HueBar.initClass();
          
          }
          }, "custom/main");
          ;
          });
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('1004').textContent;
                  var render_items = [{"docid":"30d583c7-11e5-4352-ac7e-8f6e37ef9c22","roots":{"1003":"bc550f4e-9873-4fee-83af-80247bb84cbb"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        embed_document(root);
                        clearInterval(timer);
                      }
                      attempts++;
                      if (attempts > 100) {
                        console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        clearInterval(timer);
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>